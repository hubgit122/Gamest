!function(a){"use strict";var c=window.location.pathname+window.location.search,d=window.location.hash,e=d,f=function(){function d(){if(b.useOSThemes&&(a("#afui").removeClass("ios,ios7,win8,tizen,bb,android,light,dark"),a.os.android?a("#afui").addClass("android"):a.os.ie?(a("#afui").addClass("win8"),a("head").append(a.create("script",{src:"plugins/af.8tiles.js"}))):a.os.blackberry||a.os.blackberry10||a.os.playbook?(a("#afui").addClass("bb"),b.backButtonText="Back"):a.os.ios7?a("#afui").addClass("ios7"):a.os.ios?a("#afui").addClass("ios"):a.os.tizen&&a("#afui").addClass("tizen")),a.os.ios){a("head").find("#iosBlurrHack").remove();var c="-webkit-backface-visibility: hidden;";c+="-webkit-perspective:1000;",a("head").append("<style id='iosBlurrHack'>#afui .y-scroll > *, #afui .x-scroll > * {"+c+"}</style>")}else a.os.anroid&&!a.os.androidICS?b.transitionTime="150ms":a.os.fennec&&b.ready(function(){var b=numOnly(a("#header").height())+numOnly(a("#navbar").height());a("#content").css("height",window.innerHeight-b)})}var b=this;this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition,("function"==typeof define&&define.amd||"undefined"!=typeof module&&module.exports)&&(b.autoLaunch=!1),1===a("#afui").length&&d();var c=function(){var c=document.getElementById("afui");if(null===c){c=document.createElement("div"),c.id="afui";for(var e=document.body;e&&e.firstChild;)c.appendChild(e.firstChild);a(document.body).prepend(c)}b.isIntel="intel"in window&&window.intel&&window.intel.xdk&&"app"in window.intel.xdk,a.os.supportsTouch&&a.touchLayer(c),d()};"complete"===document.readyState||"loaded"===document.readyState?(c(),b.init?b.autoBoot():a(window).one("afui:init",function(){b.autoBoot()})):a(document).ready(function(){c(),b.init?b.autoBoot():a(window).one("afui:init",function(){b.autoBoot()})},!1),"intel"in window||(window.intel={xdk:{}},window.intel.xdk.webRoot=""),window.addEventListener("popstate",function(){if(b.useInternalRouting){var a=b.getPanelId(document.location.hash),c=document.location.href.replace(document.location.origin+"/","");"#"!==c&&(""===a&&1===b.history.length&&(a="#"+b.firstDiv.id),""!==a&&0!==af(a).filter(".panel").length&&a!=="#"+b.activeDiv.id&&b.goBack())}},!1)};f.prototype={init:!1,transitionTime:"230ms",showLoading:!0,loadingText:"Loading Content",loadContentQueue:[],isIntel:!1,titlebar:"",navbar:"",header:"",viewportContainer:"",remotePages:{},history:[],homeDiv:"",screenWidth:"",content:"",modalWindow:"",customFooter:!1,defaultFooter:"",defaultHeader:null,customMenu:!1,customAside:!1,defaultAside:"",defaultMenu:"",_readyFunc:null,doingTransition:!1,passwordBox:a.passwordBox?new a.passwordBox:!1,selectBox:a.selectBox?a.selectBox:!1,ajaxUrl:"",transitionType:"slide",scrollingDivs:{},firstDiv:"",hasLaunched:!1,isLaunching:!1,launchCompleted:!1,activeDiv:"",customClickHandler:"",menuAnimation:null,togglingSideMenu:!1,sideMenuWidth:"200px",handheldMinWidth:"768",trimBackButtonText:!0,useOSThemes:!0,lockPageBounce:!1,animateHeaders:!0,useAutoPressed:!0,horizontalScroll:!1,_currentHeaderID:"defaultHeader",useInternalRouting:!0,autoBoot:function(){this.hasLaunched=!0;var b=this;this.autoLaunch&&(this.isIntel?a(document).one("intel.xdk.device.ready",function(){b.launch()}):this.launch())},css3animate:function(b,c){return b=a(b),b.css3Animate(c)},dispatchPanelEvent:function(a,b){if("string"==typeof a&&window[a])return window[a](b);if(-1!==a.indexOf(".")){var c=window,d=a.split("."),e=d.length,f=0;for(f;e-1>f;f++)if(c=c[d[f]],void 0===c)return;return c[d[f]](b)}},enableTabBar:function(){a(document).on("click",".button-grouped.tabbed",function(b){var c=a(b.target);c.closest(".tabbed").find(".button").data("ignore-pressed","true").removeClass("pressed"),c.closest(".button").addClass("pressed"),setTimeout(function(){c.closest(".button").addClass("pressed")})})},disableTabBar:function(){a(document).off("click",".button-grouped.tabbed"),a(".button-grouped.tabbed .button").removeAttr("data-ignore-pressed")},setLeftSideMenuWidth:function(b){this.sideMenuWidth=b,b+="",b=b.replace("px","")+"px";var c=numOnly(window.innerWidth)-numOnly(b);a("head").find("style#afui_sideMenuWidth").remove();var d="@media handheld, only screen and (min-width: 768px) {#afui > #navbar.hasMenu.splitview, #afui > #header.hasMenu.splitview, #afui > #content.hasMenu.splitview  {    margin-left:"+b+" !important;"+"    width: "+c+"px !important;"+"}"+"}"+"#afui #menu {width:"+b+"  !important}";a("head").append("<style id='afui_sideMenuWidth'>"+d+"</style>")},setSideMenuWidth:function(){this.setLeftSideMenuWidth.apply(this,arguments)},setRightSideMenuWidth:function(b){this.sideMenuWidth=b,b+="",b=b.replace("px","")+"px",a("head").find("style#afui_asideMenuWidth").remove(),a("head").append("<style id='afui_asideMenuWidth'>#afui #aside_menu {width:"+b+"  !important}</style>")},disableNativeScrolling:function(){a.feat.nativeTouchScroll=!1},manageHistory:!0,loadDefaultHash:!0,useAjaxCacheBuster:!1,actionsheet:function(b){return a.query("#afui").actionsheet(b)},popup:function(b){return a.query("#afui").popup(b)},blockUI:function(b){a.blockUI(b)},unblockUI:function(){a.unblockUI()},removeFooterMenu:function(){a.query("#navbar").hide(),this.showNavMenu=!1},showNavMenu:!0,autoLaunch:!0,showBackbutton:!0,showBackButton:!0,backButtonText:"",resetScrollers:!0,ready:function(b){this.launchCompleted?b():a(document).on("afui:ready",function(){b()})},setBackButtonStyle:function(b){a.query("#header #backButton").get(0).className=b},goBack:function(a){if(a=Math.min(Math.abs(~~a||1),this.history.length)){var b=this.history.splice(-a).shift();this.loadContent(b.target+"",0,1,b.transition),this.transitionType=b.transition,this.updateHash(b.target)}},clearHistory:function(){this.history=[],this.setBackButtonVisibility(!1)},pushHistory:function(b,d,e,f){this.history.push({target:b,transition:e});try{if(!this.manageHistory)return;window.history.pushState(d,d,c+"#"+d+f),a(window).trigger("hashchange",null,{newUrl:c+"#"+d+f,oldUrl:c+b})}catch(g){}},updateHash:function(b){if(this.manageHistory){b=-1===b.indexOf("#")?"#"+b:b,e=b;var d=window.location.hash,f=this.getPanelId(b).substring(1);try{window.history.replaceState(f,f,c+b),a(window).trigger("hashchange",null,{newUrl:c+b,oldUrl:c+d})}catch(g){}}},getPanelId:function(a){var b=a.indexOf("/");return-1===b?a:a.substring(0,b)},updateBadge:function(b,c,d,e){void 0===d&&(d="");var f=a(b),g=f.find("span.af-badge");0===g.length?("absolute"!==f.css("position")&&f.css("position","relative"),g=a.create("span",{className:"af-badge "+d,html:c}),f.append(g)):g.html(c),g.removeClass("tl bl br tr"),g.addClass(d),void 0===e&&(e="red"),a.isObject(e)?g.css(e):e&&g.css("background",e),g.data("ignore-pressed","true")},removeBadge:function(b){a(b).find("span.af-badge").remove()},toggleNavMenu:function(b){this.showNavMenu&&("none"!==a.query("#navbar").css("display")&&(void 0!==b&&b!==!0||void 0===b)?a.query("#navbar").hide():(void 0===b||void 0!==b&&b===!0)&&a.query("#navbar").show())},toggleHeaderMenu:function(b){"none"!==a.query("#header").css("display")&&(void 0!==b&&b!==!0||void 0===b)?a.query("#header").hide():(void 0===b||void 0!==b&&b===!0)&&a.query("#header").show()},toggleAsideMenu:function(){this.toggleRightSideMenu.apply(this,arguments)},toggleRightSideMenu:function(a,b,c){return this.isAsideMenuEnabled()?this.toggleLeftSideMenu(a,b,c,!0):void 0},toggleLeftSideMenu:function(b,c,d,e){if(!(!this.isSideMenuEnabled()&&!this.isAsideMenuEnabled()||this.togglingSideMenu||!e&&!this.isSideMenuEnabled()||!e&&a.ui.splitview&&window.innerWidth>=a.ui.handheldMinWidth)){var f=this,g=a.query("#menu"),h=a.query("#aside_menu"),i=a.query("#content,  #header, #navbar"),j=a.query(".afui_panel_mask");d=d||this.transitionTime;var k=this.isSideMenuOn(),l=e?"-"+h.width():g.width();0===j.length&&window.innerWidth<a.ui.handheldMinWidth&&(i.append("<div class='afui_panel_mask'></div>"),j=a.query(".afui_panel_mask"),a(".afui_panel_mask").bind("click",function(){a.ui.toggleSideMenu(!1,null,null,e)}));var m=this.getSideMenuPosition();k&&!e&&0>m?k=!1:k&&e&&m>0&&(k=!1),2===b||!k&&(void 0!==b&&b!==!1||void 0===b)?(this.togglingSideMenu=!0,e?h.show():g.show(),f.css3animate(i,{x:l,time:d,complete:function(b){f.togglingSideMenu=!1,i.vendorCss("Transition",""),c&&c(b),0!==j.length&&window.innerWidth<a.ui.handheldMinWidth&&j.show()}})):(void 0===b||void 0!==b&&b===!1)&&(this.togglingSideMenu=!0,f.css3animate(i,{x:"0px",time:d,complete:function(b){i.vendorCss("Transition",""),i.vendorCss("Transform",""),f.togglingSideMenu=!1,c&&c(b),a.ui.splitview||g.hide(),h.hide(),0!==j.length&&window.innerWidth<a.ui.handheldMinWidth&&j.hide()}}))}},toggleSideMenu:function(){this.toggleLeftSideMenu.apply(this,arguments)},disableSideMenu:function(){this.disableLeftSideMenu()},disableLeftSideMenu:function(){var c=a.query("#content, #header, #navbar");this.isSideMenuOn()?this.toggleSideMenu(!1,function(a){a||c.removeClass("hasMenu")}):c.removeClass("hasMenu")},enableLeftSideMenu:function(){a.query("#content, #header, #navbar").addClass("hasMenu")},enableSideMenu:function(){return this.enableLeftSideMenu()},disableRightSideMenu:function(){var c=a.query("#content, #header, #navbar");this.isSideMenuOn()?this.toggleSideMenu(!1,function(a){a||c.removeClass("hasAside")}):c.removeClass("hasAside")},enableRightSideMenu:function(){a.query("#content, #header, #navbar").addClass("hasAside")},isSideMenuEnabled:function(){return a.query("#content").hasClass("hasMenu")},isAsideMenuEnabled:function(){return a.query("#content").hasClass("hasAside")},isSideMenuOn:function(){var a=0!==this.getSideMenuPosition()?!0:!1;return(this.isSideMenuEnabled()||this.isAsideMenuEnabled)&&a},getSideMenuPosition:function(){return numOnly(parseFloat(a.getCssMatrix(a("#content")).e))},splitview:!0,disableSplitView:function(){a.query("#content, #header, #navbar, #menu").removeClass("splitview"),this.splitview=!1},prevFooter:null,updateNavbarElements:function(b){this.prevFooter&&(this.prevFooter.data("parent")?this.prevFooter.appendTo("#"+this.prevFooter.data("parent")):this.prevFooter.appendTo("#afui")),a.is$(b)||(b=a.query("#"+b)),a.query("#navbar").append(b),this.prevFooter=b;var c=a.query("#navbar > footer > a:not(.button)");if(c.length>0){c.data("ignore-pressed","true").data("resetHistory","true");var d=parseFloat(100/c.length);c.css("width",d+"%")}var e=a.query("#navbar footer");if(0!==e.length){e=e.get(0).childNodes;for(var f=0;f<e.length;f++)3===e[f].nodeType&&e[f].parentNode.removeChild(e[f])}},prevHeader:null,updateHeaderElements:function(b,c){var d=this;if(a.is$(b)||(b=a.query("#"+b)),b!==this.prevHeader)if(this._currentHeaderID=b.prop("id"),this.prevHeader){if(a.query("#header").append(b),!a.ui.animateHeaders)return d.prevHeader.data("parent")?d.prevHeader.appendTo("#"+d.prevHeader.data("parent")):d.prevHeader.appendTo("#afui"),d.prevHeader=b,void 0;var e=c?"100px":"-100px",f=c?"-100px":"100px";d.prevHeader.addClass("ignore"),d.css3animate(b,{x:f,opacity:.3,time:"1ms"}),d.css3animate(d.prevHeader,{x:e,y:0,opacity:.3,time:d.transitionTime,delay:numOnly(d.transitionTime)/5+"ms",complete:function(){d.prevHeader.data("parent")?d.prevHeader.appendTo("#"+d.prevHeader.data("parent")):d.prevHeader.appendTo("#afui"),d.prevHeader.removeClass("ignore"),d.css3animate(d.prevHeader,{x:f,opacity:1,time:"1ms"}),d.prevHeader=b}}),d.css3animate(b,{x:"0px",opacity:1,time:d.transitionTime})}else a.query("#header").append(b),this.prevHeader=b},previAsideMenu:null,updateAsideElements:function(){return this.updateRightSideMenuElements.apply(this,arguments)},updateRightSideMenuElements:function(b){if(void 0!==b&&null!==b){var d=a.query("#aside_menu_scroller");this.prevAsideMenu&&(this.prevAsideMenu.insertBefore("#afui #aside_menu"),this.prevAsideMenu=null),a.is$(b)||(b=a.query("#"+b)),d.html(""),d.append(b),this.prevAsideMenu=b,this.scrollingDivs.aside_menu_scroller.hideScrollbars(),this.scrollingDivs.aside_menu_scroller.scrollToTop()}},updateSideMenu:function(a){return this.updateSideMenuElements(a)},updateSideMenuElements:function(){return this.updateLeftSideMenuElements.apply(this,arguments)},updateLeftSideMenuElements:function(b){if(void 0!==b&&null!==b){var d=a.query("#menu_scroller");this.prevMenu&&(this.prevMenu.insertBefore("#afui #menu"),this.prevMenu=null),a.is$(b)||(b=a.query("#"+b)),d.html(""),d.append(b),this.prevMenu=b,this.scrollingDivs.menu_scroller.hideScrollbars(),this.scrollingDivs.menu_scroller.scrollToTop()}},setTitle:function(b){"defaultHeader"===this._currentHeaderID&&a.query("#header header:not(.ignore)  #pageTitle").html(b)},setBackButtonText:function(b){"defaultHeader"===this._currentHeaderID&&(this.trimBackButtonText&&b.length>=7&&(b=b.substring(0,5)+"..."),this.backButtonText.length>0?a.query("#header header:not(.ignore) #backButton").html(this.backButtonText):a.query("#header header:not(.ignore)  #backButton").html(b))},setBackButtonVisibility:function(b){b?a.query("#header #backButton").css("visibility","visible"):a.query("#header #backButton").css("visibility","hidden")},showMask:function(b){b||(b=this.loadingText||""),a.query("#afui_mask>h1").html(b),a.query("#afui_mask").show()},hideMask:function(){a.query("#afui_mask").hide()},modalReference_:null,showModal:function(b,c){var d=this;this.modalTransition=c||"up";var e=a.query("#modalContainer");"string"==typeof b&&(b="#"+b.replace("#",""));var f=a.query(b);this.modalReference_=f;var g=a.query("#afui_modal");if(f.length){var i,h=this.scrollingDivs.hasOwnProperty(f.attr("id"));if(a.feat.nativeTouchScroll||a.os.desktop||!h?(i=f.contents(),e.append(i)):(i=a(f.get(0).childNodes[0]).contents(),e.children().eq(0).append(i)),this.runTransition(this.modalTransition,d.modalTransContainer,d.modalWindow,!1),a(d.modalWindow).css("display",""),a(d.modalWindow).addClass("display","flexContainer"),h?this.scrollingDivs.modal_container.enable(d.resetScrollers):this.scrollingDivs.modal_container.disable(),e.addClass("panel").show(),"none"===f.data("header")?g.find("#modalHeader").hide():i.filter("header").length>0?g.find("#modalHeader").append(i.filter("header")).show():g.find("#modalHeader").append(a.create("header",{className:"header"}).append(a.create("h1",{html:f.data("title")}).get(0)).append(a.create("a",{className:"button icon close"}).attr("onclick","$.ui.hideModal()").get(0))).show(),"none"===f.data("footer"))g.find("#modalFooter").hide();else if(i.filter("footer").length>0){g.find("#modalFooter").append(i.filter("footer")).show();var j=a.query("#modalFooter > footer > a:not(.button)");if(j.length>0){var k=parseFloat(100/j.length);j.css("width",k+"%")}var l=a.query("#modalFooter footer");if(0===l.length)return;l=l.get(0).childNodes;for(var m=0;m<l.length;m++)3===l[m].nodeType&&l[m].parentNode.removeChild(l[m])}else g.find("#modalFooter").hide();this.scrollToTop("modal"),e.data("panel",b);var n=f.get(0),o=n.getAttribute("data-load");o&&this.dispatchPanelEvent(o,n),f.trigger("loadpanel")}},hideModal:function(){var b=this,c=a.query("#modalContainer"),d=this.scrollingDivs.hasOwnProperty(this.modalReference_.attr("id"));this.runTransition(b.modalTransition,b.modalWindow,b.modalTransContainer,!0),this.scrollingDivs.modal_container.disable();var e=a.query(c.data("panel")),f=e.data("unload");f&&this.dispatchPanelEvent(f,e.get(0)),e.trigger("unloadpanel"),setTimeout(function(){a.feat.nativeTouchScroll||a.os.desktop||!d?(b.modalReference_.append(a("#modalHeader header")),b.modalReference_.append(c.contents()),b.modalReference_.append(a("#modalFooter footer"))):(b.modalReference_.children().eq(0).append(a("#modalHeader header")),a(b.modalReference_.get(0).childNodes[0]).append(c.children().eq(0).contents()),b.modalReference_.children().eq(0).append(a("#modalFooter footer")))},this.transitionTime)},updatePanel:function(b,c){b="#"+b.replace("#","");var d=a.query(b).get(0);if(d){var e=a.create("div",{html:c});if(e=e.children(".panel")&&e.children(".panel").length>0?e.children(".panel").get(0):e.get(0),!d.getAttribute("js-scrolling")||"yes"!==d.getAttribute("js-scrolling").toLowerCase()&&"true"!==d.getAttribute("js-scrolling").toLowerCase()){a.cleanUpContent(d,!1,!0),a(d).html(c);var f=this.scrollingDivs[d.id];f&&f.refresh&&f.addPullToRefresh()}else a.cleanUpContent(d.childNodes[0],!1,!0),a(d.childNodes[0]).html(c);e.getAttribute("data-title")&&d.setAttribute("data-title",e.getAttribute("data-title"))}},updateContentDiv:function(a,b){return this.updatePanel(a,b)},addContentDiv:function(b,c,d,e,f){b="string"!=typeof b?b:-1===b.indexOf("#")?"#"+b:b;var h,i,g=a.query(b).get(0);return g?h=g:(h=a.create("div",{html:c}),h=h.children(".panel")&&h.children(".panel").length>0?h.children(".panel").get(0):h.get(0),!h.getAttribute("data-title")&&d&&h.setAttribute("data-title",d),i=h.id?h.id:b.replace("#",""),h.id=i,h.id!==b&&h.setAttribute("data-crc",b.replace("#",""))),h.className="panel",i=h.id,this.addDivAndScroll(h,e,f),g=null,h=null,i},addDivAndScroll:function(b,c,d,e){var h,f=this,g=!1,i=b.style.overflow,j="hidden"!==i&&"visible"!==i;e=e||this.content,a.feat.nativeTouchScroll||!j||a.os.desktop||b.setAttribute("js-scrolling","true"),!b.getAttribute("js-scrolling")||"yes"!==b.getAttribute("js-scrolling").toLowerCase()&&"true"!==b.getAttribute("js-scrolling").toLowerCase()||(g=!0,j=!0);var k=b.getAttribute("data-title")||b.title;return b.title="",b.setAttribute("data-title",k),(a(b).hasClass("no-scroll")||b.getAttribute("scrolling")&&"no"===b.getAttribute("scrolling"))&&(j=!1,g=!1,b.removeAttribute("js-scrolling")),g?(h=b,e.appendChild(b),this.selectBox!==!1&&this.selectBox.getOldSelects(h.id),this.passwordBox!==!1&&this.passwordBox.getOldPasswords(h.id)):(e.appendChild(b),h=b,b.style["-webkit-overflow-scrolling"]="none"),j&&(this.scrollingDivs[h.id]=a(b).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:f.horizontalScroll,vScrollCSS:"afScrollbar",refresh:c,useJsScroll:g,lockBounce:this.lockPageBounce,autoEnable:!1}),a(b).addClass("y-scroll"),f.horizontalScroll&&a(b).addClass("x-scroll"),d&&a.bind(this.scrollingDivs[h.id],"refresh-release",function(a){a&&d()}),g&&a(b).children().eq(0).addClass("afScrollPanel")),h.id},scrollToTop:function(a,b){b=b||"300ms",a=a.replace("#",""),this.scrollingDivs[a]&&this.scrollingDivs[a].scrollToTop(b)},scrollToBottom:function(a,b){a=a.replace("#",""),this.scrollingDivs[a]&&this.scrollingDivs[a].scrollToBottom(b)},parsePanelFunctions:function(b,c,d){var e=this,f=b.getAttribute("data-footer"),g=b.getAttribute("data-header");f&&"none"===f.toLowerCase()?(e.toggleNavMenu(!1),f=!1):e.toggleNavMenu(!0),f&&e.customFooter!==f?(e.customFooter=f,e.updateNavbarElements(f)):f!==e.customFooter&&(e.customFooter&&e.updateNavbarElements(e.defaultFooter),e.customFooter=!1),g&&"none"===g.toLowerCase()?(e.toggleHeaderMenu(!1),g=!1):e.toggleHeaderMenu(!0),g&&e.customHeader!==g?(e.customHeader=g,e.updateHeaderElements(g,d)):g!==e.customHeader&&(e.customHeader&&e.updateHeaderElements(e.defaultHeader,d),e.customHeader=!1);var h=a(b).find("footer");h.length>0&&(e.customFooter=b.id,h.data("parent",b.id),e.updateNavbarElements(h));var i=a(b).find("header");i.length>0&&(e.customHeader=b.id,i.data("parent",b.id),e.updateHeaderElements(i,d)),b.getAttribute("data-tab")&&(a.query("#navbar>footer>a:not(.button)").removeClass("pressed"),a.query("#navbar #"+b.getAttribute("data-tab")).addClass("pressed"));var j=b.getAttribute("data-left-menu")||b.getAttribute("data-nav");j&&this.customMenu!==j?(this.customMenu=j,this.updateSideMenuElements(j)):j!==this.customMenu&&(this.customMenu&&this.updateSideMenuElements(this.defaultMenu),this.customMenu=!1);var k=b.getAttribute("data-right-menu")||b.getAttribute("data-aside");k&&this.customAside!==k?(this.customAside=k,this.updateAsideElements(k)):k!==this.customAside&&(this.customAside&&this.updateAsideElements(this.defaultAside),this.customAside=!1),c&&(l=c.getAttribute("data-unload"),l&&this.dispatchPanelEvent(l,c),a(c).trigger("unloadpanel"));var l=b.getAttribute("data-load");l&&this.dispatchPanelEvent(l,b),a(b).trigger("loadpanel"),this.isSideMenuOn()&&e.toggleSideMenu(!1)},parseScriptTags:function(b){b&&a.parseJS(b)},loadContent:function(b,c,d,e,f){if(this.doingTransition)return this.loadContentQueue.push([b,c,d,e,f]),void 0;if(0!==b.length){var j=!0;if(f=f||document.createElement("a"),-1===b.indexOf("#")){var k="url"+i(b),l=a.query("div.panel[data-crc='"+k+"']");a.query("#"+b).length>0?j=!1:l.length>0?(j=!1,"true"===f.getAttribute("data-refresh-ajax")||f.refresh&&f.refresh===!0||this.isAjaxApp?j=!0:b="#"+l.get(0).id):a.query("#"+k).length>0&&(j=!1,"true"===f.getAttribute("data-refresh-ajax")||f.refresh&&f.refresh===!0||this.isAjaxApp?j=!0:b="#"+k)}-1===b.indexOf("#")&&j?this.loadAjax(b,c,d,e,f):this.loadDiv(b,c,d,e)}},loadDiv:function(b,c,d,f){var g=this,h=b.replace("#",""),i=h.indexOf("/"),j="";if(-1!==i&&(j=h.substr(i),h=h.substr(0,i)),h=a.query("#"+h).get(0),!h)return a(document).trigger("missingpanel",null,{missingTarget:b}),void 0;if(h===this.activeDiv&&!d)return this.isSideMenuOn()&&this.toggleSideMenu(!1),void 0;this.transitionType=f;var k=this.activeDiv,l=h;return"true"===h.getAttribute("data-modal")||"true"===h.getAttribute("modal")?this.showModal(h.id):(k!==l&&(c?(this.clearHistory(),this.pushHistory("#"+this.firstDiv.id,h.id,f,j)):d||this.pushHistory(e,h.id,f,j),e="#"+h.id+j,this.doingTransition=!0,k.style.display="block",l.style.display="block",this.runTransition(f,k,l,d),this.parsePanelFunctions(h,k,d),this.loadContentData(h,c,d,f),a.feat.nativeTouchScroll?setTimeout(function(){g.scrollingDivs[k.id]&&g.scrollingDivs[k.id].disable()},numOnly(g.transitionTime)+50):"undefined"!=typeof g.scrollingDivs[k.id]&&g.scrollingDivs[k.id].disable()),void 0)},loadContentData:function(b,c,d){var f,g,h,i;d?this.history.length>0&&(h=this.history[this.history.length-1],i=h.target.indexOf("/"),f=-1!==i?h.target.substr(0,i):h.target,g=a.query(f).get(0),g?this.setBackButtonText(g.getAttribute("data-title")):this.setBackButtonText("Back")):this.activeDiv.getAttribute("data-title")?this.setBackButtonText(this.activeDiv.getAttribute("data-title")):this.setBackButtonText("Back"),b.getAttribute("data-title")&&this.setTitle(b.getAttribute("data-title")),c&&(this.setBackButtonText(this.firstDiv.getAttribute("data-title")),b===this.firstDiv&&(this.history.length=0)),a("#header #menubadge").css("float","right"),0===this.history.length?(this.setBackButtonVisibility(!1),this.history=[],a("#header #menubadge").css("float","left")):this.showBackButton&&this.showBackbutton&&this.setBackButtonVisibility(!0),this.activeDiv=b,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable(this.resetScrollers)},loadAjax:function(b,c,d,e,f){if("afui_ajax"!==this.activeDiv.id||b!==this.ajaxUrl){var g="url"+i(b),h=this;-1===b.indexOf("http")&&(b=intel.xdk.webRoot+b);var j=new XMLHttpRequest;f&&"object"!=typeof f&&(f=document.createElement("a"),f.setAttribute("data-persist-ajax",!0)),f=f||document.createElement("a"),j.onreadystatechange=function(){if(4===j.readyState&&200===j.status){this.doingTransition=!1;var i,k=!1,l=a.query("#"+g);if(l.length>0)h.updatePanel(g,j.responseText),l.get(0).setAttribute("data-title",f.title?f.title:b);else if(f.getAttribute("data-persist-ajax")||h.isAjaxApp){var m="true"===f.getAttribute("data-pull-scroller")?!0:!1;i=m?function(){f.refresh=!0,h.loadContent(b,c,d,e,f),f.refresh=!1}:null;var n=a(j.responseText);n.hasClass("panel")?(g=n.attr("id"),n=n.get(0).innerHTML):n=n.html(),a("#"+g).length>0?h.updatePanel("#"+g,n):a("div.panel[data-crc='"+g+"']").length>0?(h.updatePanel(a("div.panel[data-crc='"+g+"']").get(0).id,n),g=a("div.panel[data-crc='"+g+"']").get(0).id):g=h.addContentDiv(g,j.responseText,f.title?f.title:b,m,i)}else h.updatePanel("afui_ajax",j.responseText),a.query("#afui_ajax").get(0).setAttribute("data-title",f.title?f.title:b),h.loadContent("#afui_ajax",c,d,e),k=!0;var o=document.createElement("div");return a(o).html(j.responseText),h.parseScriptTags(o),k?(h.showLoading&&h.hideMask(),void 0):(h.loadContent("#"+g,c,d,e),h.showLoading&&h.hideMask(),null)}4===j.readyState&&a.ui.hideMask()},this.ajaxUrl=b;var k=this.useAjaxCacheBuster?b+(b.split("?")[1]?"&":"?")+"cache="+1e16*Math.random():b;j.open("GET",k,!0),j.setRequestHeader("X-Requested-With","XMLHttpRequest"),j.send(),this.showLoading&&this.showMask()}},runTransition:function(a,b,c,d){this.availableTransitions[a]||(a="default"),"none"===b.style.display&&(b.style.display="block"),"none"===c.style.display&&(c.style.display="block"),this.availableTransitions[a].call(this,b,c,d)},launch:function(){if(this.hasLaunched===!1||this.launchCompleted)return this.hasLaunched=!0,void 0;if(this.isLaunching)return!0;this.isLaunching=!0;var b=this;this.viewportContainer=af.query("#afui"),this.navbar=af.query("#navbar").get(0),this.content=af.query("#content").get(0),this.header=af.query("#header").get(0),this.menu=af.query("#menu").get(0),this.viewportContainer.on("click","a",function(a){b.useInternalRouting&&g(a,a.currentTarget)});var c=null;a.bind(a.touchLayer,"enter-edit",function(a){c=a}),a.os.android&&!a.os.androidICS&&(a.bind(a.touchLayer,"enter-edit-reshape",function(){var d=a(c),e=d.closest(b.activeDiv);if(e&&e.size()>0){var f=d.offset(),g=e.offset();f.bottom>g.bottom&&f.height<g.height&&b.scrollingDivs[b.activeDiv.id].scrollToItem(d,"bottom")}}),a.bind(a.touchLayer,"exit-edit-reshape",function(){b.activeDiv&&b.activeDiv.id&&b.scrollingDivs.hasOwnProperty(b.activeDiv.id)&&b.scrollingDivs[b.activeDiv.id].setPaddings(0,0)})),this.navbar||(this.navbar=a.create("div",{id:"navbar"}).get(0),this.viewportContainer.append(this.navbar)),this.header||(this.header=a.create("div",{id:"header"}).get(0),this.viewportContainer.prepend(this.header)),this.content||(this.content=a.create("div",{id:"content"}).get(0),a(this.content).insertAfter(this.header)),this.menu||(this.menu=a.create("div",{id:"menu",html:"<div id='menu_scroller'></div>"}).get(0),this.viewportContainer.append(this.menu),this.menu.style.overflow="hidden",this.scrollingDivs.menu_scroller=a.query("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!a.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce,hasParent:!0}),a.feat.nativeTouchScroll&&a.query("#menu_scroller").css("height","100%"),this.asideMenu=a.create("div",{id:"aside_menu",html:"<div id='aside_menu_scroller'></div>"}).get(0),this.viewportContainer.append(this.asideMenu),this.asideMenu.style.overflow="hidden",this.scrollingDivs.aside_menu_scroller=a.query("#aside_menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!a.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce,hasParent:!0}),a.feat.nativeTouchScroll&&a.query("#aside_menu_scroller").css("height","100%")),a(this.header).html("<a id='backButton' class='button'></a> <h1 id='pageTitle'></h1>"+this.header.innerHTML),this.backButton=a.query("#header #backButton").css("visibility","hidden"),a(document).on("click","#header #backButton",function(a){a.preventDefault(),b.goBack()}),this.titlebar=a.query("#header #pageTitle").get(0),this.addContentDiv("afui_ajax","");var f=a.create("div",{id:"afui_mask",className:"ui-loader",html:"<span class='ui-icon ui-icon-loading spin'></span><h1>Loading Content</h1>"}).css({"z-index":2e4,display:"none"});document.body.appendChild(f.get(0));var h=a.create("div",{id:"afui_modal"}).get(0);a(h).hide(),h.appendChild(a.create("div",{id:"modalHeader",className:"header"}).get(0)),h.appendChild(a.create("div",{id:"modalContainer"}).get(0)),h.appendChild(a.create("div",{id:"modalFooter",className:"footer"}).get(0)),this.modalTransContainer=a.create("div",{id:"modalTransContainer"}).appendTo(h).get(0),this.viewportContainer.append(h),this.scrollingDivs.modal_container=a.query("#modalContainer").scroller({scrollBars:!0,vertical:!0,vScrollCSS:"afScrollbar",lockBounce:this.lockPageBounce}),this.modalWindow=h;for(var i={},j=this.viewportContainer.get(0).querySelectorAll(".panel"),k=0;k<j.length;k++){var l=j[k],m=l;l.id;var o=l.previousSibling;l.parentNode&&"content"!==l.parentNode.id?(m.getAttribute("selected")&&(this.firstDiv=l),this.addDivAndScroll(m),a.query("#content").append(l)):l.parsedContent||(l.parsedContent=1,m.getAttribute("selected")&&(this.firstDiv=l),this.addDivAndScroll(l),a(l).insertAfter(o)),l.getAttribute("data-defer")&&(i[l.id]=l.getAttribute("data-defer")),this.firstDiv||(this.firstDiv=l),l=null}j=null;var p=!1,q=Object.keys(i).length,r=function(c){a.ajax({url:intel.xdk.webRoot+i[c],success:function(d){d.length>0&&(b.updatePanel(c,d),b.parseScriptTags(a.query("#"+c).get(0))),s++,s>=q&&(p=!1,a(document).trigger("defer:loaded"))},error:function(){console.log("Error with deferred load "+intel.xdk.webRoot+i[c]),s++,s>=q&&(p=!1,a(document).trigger("defer:loaded"))}})};if(q>0){p=!0;var s=0;for(var t in i)r(t)}if(this.firstDiv){this.activeDiv=this.firstDiv,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable();var u=function(){a.query("#navbar").append(a.create("footer",{id:"defaultNav"}).append(a.query("#navbar").children())),b.defaultFooter="defaultNav",b.prevFooter=a.query("#defaultNav"),b.updateNavbarElements(b.prevFooter);var c=a.query("nav").get(0);c&&(b.defaultMenu=a(c),b.updateSideMenuElements(b.defaultMenu),b.prevMenu=b.defaultMenu);var f=a.query("aside").get(0);if(f&&(b.defaultAside=a(f),b.updateAsideElements(b.defaultAside),b.prevAsideMenu=b.defaultAside),b.defaultHeader="defaultHeader",a.query("#header").append(a.create("header",{id:"defaultHeader"}).append(a.query("#header").children())),b.prevHeader=a.query("#defaultHeader"),a.query("#header").addClass("header"),a.query("#navbar").addClass("footer"),a.query("#navbar").on("click","footer>a:not(.button)",function(b){a.query("#navbar>footer>a").not(b.currentTarget).removeClass("pressed"),a(b.currentTarget).addClass("pressed")}),a.query("nav").length>0){var g=b.splitview?" splitview":"";a.query("#afui #header").addClass("hasMenu"+g),a.query("#afui #content").addClass("hasMenu"+g),a.query("#afui #navbar").addClass("hasMenu"+g),a.query("#afui #menu").addClass("hasMenu"+g),a.query("#afui #aside_menu").addClass(g)}a.query("aside").length>0&&a.query("#afui #header, #afui #content, #afui #navbar").addClass("hasAside"),a.query("#afui #menu").addClass("tabletMenu"),a.ui.splitview&&window.innerWidth>parseInt(a.ui.handheldMinWidth,10)&&(a.ui.sideMenuWidth=a("#menu").width()+"px");var h=b.getPanelId(d),i=null!==h&&h==="#"+b.firstDiv.id;h.length>0&&b.loadDefaultHash&&!i?b.loadContent(d,!0,!1,"none"):(e="#"+b.firstDiv.id,b.firstDiv.style.display="block",b.parsePanelFunctions(b.firstDiv),b.loadContentData(b.firstDiv),a.query("#header #backButton").css("visibility","hidden"),("true"===b.firstDiv.getAttribute("data-modal")||"true"===b.firstDiv.getAttribute("modal"))&&b.showModal(b.firstDiv.id)),b.launchCompleted=!0,a.query("#afui #splashscreen").remove(),setTimeout(function(){a(document).trigger("afui:ready")})};p?a(document).one("defer:loaded",u):u()}else setTimeout(function(){a(document).trigger("afui:ready")});a.bind(b,"content-loaded",function(){if(b.loadContentQueue.length>0){var a=b.loadContentQueue.splice(0,1)[0];b.loadContent(a[0],a[1],a[2],a[3],a[4])}}),(window.navigator.standalone||this.isIntel)&&this.blockPageScroll(),this.enableTabBar(),this.topClickScroll()},topClickScroll:function(){var a=this;document.getElementById("header").addEventListener("click",function(b){b.clientY<=15&&"h1"===b.target.nodeName.toLowerCase()&&a.scrollingDivs[a.activeDiv.id].scrollToTop("100")})},blockPageScroll:function(){a.query("#afui #header").bind("touchmove",function(a){a.preventDefault()})},noTransition:function(a,b){b.style.display="block",a.style.display="block";var d=this;d.clearAnimations(b),d.css3animate(a,{x:"0%",y:0}),d.finishTransition(a),b.style.zIndex=2,a.style.zIndex=1},finishTransition:function(b,c){b.style.display="none",this.doingTransition=!1,c&&this.clearAnimations(c),b&&this.clearAnimations(b),a.trigger(this,"content-loaded")},clearAnimations:function(b){b.style[a.feat.cssPrefix+"Transform"]="none",b.style[a.feat.cssPrefix+"Transition"]="none"}};var g=function(b,c){var d=document.getElementById("afui");if(c!==d){if("a"!==c.tagName.toLowerCase()&&c.parentNode)return g(b,c.parentNode);if("undefined"!==c.tagName&&"a"===c.tagName.toLowerCase()){var e="function"==typeof a.ui.customClickHandler?a.ui.customClickHandler:!1;if(e!==!1&&a.ui.customClickHandler(c,b))return b.preventDefault();if(-1!==c.href.toLowerCase().indexOf("javascript:")||c.getAttribute("data-ignore"))return;if(-1===c.hash.indexOf("#")&&c.target.length>0)return 0!==c.href.toLowerCase().indexOf("javascript:")&&(a.ui.isIntel?(b.preventDefault(),intel.xdk.device.launchExternal(c.href)):a.os.desktop||(b.target.target="_blank")),void 0;var f=c.href,h=location.protocol+"//"+location.hostname+":"+location.port+location.pathname;if(0===f.indexOf(h)&&(f=f.substring(h.length)),"#"===f||f.indexOf("#")===f.length-1||0===f.length&&0===c.hash.length)return b.preventDefault();var i=/^((http|https|file):\/\/)/;-1!==c.href.indexOf(":")&&i.test(c.href)&&b.preventDefault();var j=c.getAttribute("data-transition"),k=c.getAttribute("data-resetHistory");return k=k&&"true"===k.toLowerCase()?!0:!1,f=c.hash.length>0?c.hash:f,a.ui.loadContent(f,k,0,j,c),void 0}}},h="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",i=function(a,b){void 0===b&&(b=0);var c=0,d=0;b=-1^b;for(var e=0,f=a.length;f>e;e++)c=255&(b^a.charCodeAt(e)),d="0x"+h.substr(9*c,8),b=b>>>8^d;return(-1^b)>>>0};a.ui=new f,a.ui.init=!0,a(window).trigger("afui:preinit"),a(window).trigger("afui:init")}(af),function(a){"use strict";a(document).one("intel.xdk.device.ready",function(){a.ui.isIntel=!0,setTimeout(function(){document.getElementById("afui").style.height="100%",document.body.style.height="100%",document.documentElement.style.minHeight=window.innerHeight},30)}),a.feat.nativeTouchScroll&&document.addEventListener("orientationchange",function(){if(a.ui.scrollingDivs[a.ui.activeDiv.id]){var c=a.ui.scrollingDivs[a.ui.activeDiv.id];if(!c)return;0===c.el.scrollTop&&(c.disable(),setTimeout(function(){c.enable()},300)),c.refresh&&c.updateP2rHackPosition()}})}(af);